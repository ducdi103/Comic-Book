<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>ƒê·ªçc Truy·ªán</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="styles.css">
</head>
<body id="">
  <div class="navbar">
    <h1>üìñ ƒê·ªçc Truy·ªán</h1>
    <div class="btn-row">
      <button id="toggle-dark">üåô Dark</button>
      <a class="btn" href="index.html">üè† Trang ch·ªß</a>
    </div>
  </div>

  <div class="wrap">
    <!-- TH·ªÇ LO·∫†I -->
    <div id="story-genre">
      <div class="item" onclick="loadStories('co-tich')">üåü C·ªï t√≠ch</div>
      <div class="item" onclick="loadStories('thieu-nhi')">üéà Thi·∫øu nhi</div>
    </div>

    <!-- DANH S√ÅCH TRUY·ªÜN -->
    <div id="story-list" style="display:none;"></div>

    <!-- ƒê·ªåC TRUY·ªÜN -->
    <div id="reader" style="display:none;">
      <div class="card">
        <h2 id="story-title"></h2>
        <div id="story-content" style="min-height:160px; line-height:1.6;"></div>
        <div class="toolbar">
          <button onclick="prevPage()">‚¨ÖÔ∏è Trang tr∆∞·ªõc</button>
          <span id="page-info"></span>
          <button onclick="nextPage()">‚û°Ô∏è Trang sau</button>
        </div>
        <div class="toolbar">
          <button onclick="backToStoryList()">üîô Quay l·∫°i</button>
        </div>
      </div>
    </div>
  </div>

  <div class="footer">¬© 2025</div>

  <script src="script.js"></script>
  <script>
    // ====== DATA M·∫™U: T·∫•m C√°m (chia ~100 t·ª´/trang) ======
    var STORIES = {
      "co-tich": {
        "tam-cam": {
          id: "co-tich/tam-cam",
          title: "T·∫•m C√°m",
          pages: [
            "Ng√†y x∆∞a c√≥ hai ch·ªã em T·∫•m v√† C√°m, m·ªì c√¥i m·∫π t·ª´ nh·ªè. Cha l·∫•y v·ª£ k·∫ø, d√¨ gh·∫ª gh√©t T·∫•m, th∆∞∆°ng C√°m. M·ªôt h√¥m, d√¨ gh·∫ª ƒë∆∞a cho hai ch·ªã em c√°i gi·ªè, b·∫£o ra ƒë·ªìng x√∫c t√©p, ai ƒë∆∞·ª£c nhi·ªÅu s·∫Ω th∆∞·ªüng. T·∫•m chƒÉm ch·ªâ, ch·ªãu kh√≥, x√∫c ƒë·∫ßy gi·ªè to√†n t√©p ngon...",
            "C√°m th√¨ ham ch∆°i, ch·ªâ rong ru·ªïi ngh·ªãch ng·ª£m. Khi th·∫•y gi·ªè T·∫•m ƒë·∫ßy, C√°m l·ª´a: 'Ch·ªã T·∫•m ∆°i, ƒë·∫ßu ch·ªã c√≥ con g√¨ k√¨a', T·∫•m ng√¢y th∆° ng·∫©ng ƒë·∫ßu, C√°m ƒë·ªï h·∫øt t√©p c·ªßa T·∫•m v√†o gi·ªè m√¨nh. T·∫•m kh√≥c. B·ª•t hi·ªán l√™n h·ªèi chuy·ªán, r·ªìi b·∫£o T·∫•m v·ªÅ nh√† th·∫£ con c√° b·ªëng v√†o gi·∫øng m√† nu√¥i...",
            "T·∫•m ng√†y ng√†y cho b·ªëng ƒÉn, g·ªçi b·ªëng l√™n b·∫±ng c√¢u: 'B·ªëng b·ªëng bang bang, l√™n ƒÉn c∆°m v√†ng c∆°m b·∫°c nh√† ta...' D√¨ gh·∫ª bi·∫øt chuy·ªán, l·ª´a b·∫Øt b·ªëng l√†m th·ªãt. T·∫•m ƒëau l√≤ng, B·ª•t l·∫°i hi·ªán, d·∫∑n T·∫•m nh·∫∑t x∆∞∆°ng b·ªëng b·ªè v√†o l·ªç ch√¥n d∆∞·ªõi ch√¢n gi∆∞·ªùng. ƒê·∫øn ng√†y h·ªôi, B·ª•t cho T·∫•m qu·∫ßn √°o ƒë·∫πp v√† gi√†y th√™u...",
            "T·∫•m ƒëi h·ªôi b·ªã m·∫π con C√°m h√£m h·∫°i, ƒë√°nh r∆°i m·ªôt chi·∫øc gi√†y. Nh√† vua nh·∫∑t ƒë∆∞·ª£c, truy·ªÅn ƒëi kh·∫Øp n∆°i t√¨m ng∆∞·ªùi ƒëi v·ª´a gi√†y. Cu·ªëi c√πng gi√†y v·ª´a ch√¢n T·∫•m, n√†ng ƒë∆∞·ª£c ƒë∆∞a v√†o cung l√†m ho√†ng h·∫≠u. M·∫π con C√°m ghen gh√©t, t√¨m c√°ch h√£m h·∫°i T·∫•m nhi·ªÅu l·∫ßn...",
            "Sau bao gian tru√¢n, T·∫•m tr·ªü v·ªÅ, v·∫°ch t·ªôi m·∫π con C√°m. N√†ng v√† nh√† vua sum v·∫ßy, d√¢n gian ca ng·ª£i ƒë·ª©c hi·ªÅn l√†nh v√† s·ª± c√¥ng b·∫±ng c·ªßa T·∫•m. H·∫øt chuy·ªán."
          ]
        }
      },
      "thieu-nhi": {
        "chu-be-cham-chi": {
          id: "thieu-nhi/chu-be-cham-chi",
          title: "Ch√∫ b√© chƒÉm ch·ªâ",
          pages: [
            "Ng√†y x·ª≠a ng√†y x∆∞a‚Ä¶",
            "‚Ä¶c√¢u chuy·ªán k·∫øt th√∫c c√≥ h·∫≠u."
          ]
        }
      }
    };

    var currentGenre = null, currentStory = null, currentPage = 0;

    function loadStories(genre) {
      currentGenre = genre;
      var list = $("story-list");
      list.innerHTML = "";
      var g = STORIES[genre] || {};
      for (var key in g) {
        if (!g.hasOwnProperty(key)) continue;
        var s = g[key];
        var div = document.createElement("div");
        div.className = "item";
        div.innerHTML = s.title;
        div.onclick = (function (id) {
          return function () { openStory(id); };
        })(s.id);
        list.appendChild(div);
      }
      $("story-genre").style.display = "none";
      list.style.display = "block";
      $("reader").style.display = "none";
      window.scrollTo(0,0);
    }

    function findStoryById(id) {
      for (var g in STORIES) {
        if (!STORIES.hasOwnProperty(g)) continue;
        var cat = STORIES[g];
        for (var k in cat) {
          if (!cat.hasOwnProperty(k)) continue;
          if (cat[k].id === id) return cat[k];
        }
      }
      return null;
    }

    function openStory(id) {
      currentStory = findStoryById(id);
      if (!currentStory) return;
      currentPage = 0;
      renderPage();
      $("story-list").style.display = "none";
      $("reader").style.display = "block";
      window.scrollTo(0,0);
    }

    function renderPage() {
      $("story-title").innerHTML = currentStory.title || "";
      var pages = currentStory.pages || [];
      if (currentPage < 0) currentPage = 0;
      if (currentPage >= pages.length) currentPage = pages.length - 1;
      $("story-content").innerHTML = pages[currentPage] || "";
      $("page-info").innerHTML = "Trang " + (currentPage + 1) + "/" + pages.length;
    }

    function nextPage() { currentPage++; renderPage(); }
    function prevPage() { currentPage--; renderPage(); }

    function backToStoryList() {
      $("reader").style.display = "none";
      $("story-list").style.display = "block";
      window.scrollTo(0,0);
    }

    (function () {
      window.__initTheme && window.__initTheme();
    })();
  </script>
</body>
</html>
